#include "raylib.h"
#include <iostream>

int main()
{
    //Window Initialization & Creation
    int width = 800;
    int height = 400;
    InitWindow(width, height, "Axe Game");

    //Circle Initialization
    int circle_x = 200;
    int circle_y = 200;
    int circle_radius = 20;

    //Circle edges
    int l_circle_x = (circle_x - circle_radius);
    int r_circle_x = (circle_x + circle_radius);
    int t_circle_y = (circle_y - circle_radius);
    int b_circle_y = (circle_y + circle_radius);

     //Axe Initialization
    int axe_x = 400;
    int axe_y = 0;
    int axe_length = 50;
    int direction = 20;

    //Axe Edges
    int l_axe_x = axe_x;
    int r_axe_x = (axe_x + axe_length);
    int t_axe_y = axe_y;
    int b_axe_y = (axe_y + axe_length);

    //Collision boolean
    bool Collision_with_Axe =   (b_axe_y >= t_circle_y) && 
                                (t_axe_y <= b_circle_y) && 
                                (l_axe_x <= r_circle_x) && 
                                (r_axe_x >= l_circle_x);

    SetTargetFPS(60);
    while(WindowShouldClose() == false)
    {   
                //Starting of Drawing
                BeginDrawing();
                ClearBackground(WHITE);

        if (Collision_with_Axe)
        {
                DrawText("GAME OVER",400,200,50,RED);
        }
        else
        {       l_circle_x = (circle_x - circle_radius);
                r_circle_x = (circle_x + circle_radius);
                t_circle_y = (circle_y - circle_radius);
                b_circle_y = (circle_y + circle_radius);

                l_axe_x = axe_x;
                r_axe_x = (axe_x + axe_length);
                t_axe_y = axe_y;
                b_axe_y = (axe_y + axe_length);

                Collision_with_Axe =    (b_axe_y >= t_circle_y) && 
                                        (t_axe_y <= b_circle_y) && 
                                        (l_axe_x <= r_circle_x) && 
                                        (r_axe_x >= l_circle_x);

                //Drawing of Circle
                DrawCircle(circle_x ,circle_y ,circle_radius ,BLUE);

                //Drawing of Axe
                DrawRectangle(axe_x, axe_y, axe_length, axe_length,RED);       

                axe_y += direction;
                if (axe_y > 400 || axe_y < 0)
                {
                    direction = -direction;
                }

                //Object Movement with respect it key
                if(IsKeyDown(KEY_D) && ((circle_x + circle_radius) <= width))
                {
                    circle_x += 7;
                }

                if(IsKeyDown(KEY_A) && ((circle_x - circle_radius) >= 0))
                {
                    circle_x -= 7;
                }

                if(IsKeyDown(KEY_W) && ((circle_y - circle_radius) >= 0))
                {
                    circle_y -= 7;
                }

                if(IsKeyDown(KEY_S) && ((circle_y + circle_radius) <= height))
                {
                    circle_y += 7;
                }

        }
        //Ending of Drawing
        EndDrawing();
    }
}
